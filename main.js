(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function o(e){n(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function l(e){n(1,arguments);var t=o(e);return t.setHours(0,0,0,0),t}e.d({},{ZP:()=>h,iJ:()=>I,e5:()=>f,dC:()=>g,a0:()=>E,zc:()=>y});var c=864e5;function a(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function d(e,t){n(1,arguments);var l=t||{},c=l.locale,d=c&&c.options&&c.options.weekStartsOn,r=null==d?0:a(d),i=null==l.weekStartsOn?r:a(l.weekStartsOn);if(!(i>=0&&i<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=o(e),u=s.getDay(),m=(u<i?7:0)+u-i;return s.setDate(s.getDate()-m),s.setHours(0,0,0,0),s}function r(e,t,o){n(2,arguments);var l=d(e,o),c=d(t,o);return l.getTime()===c.getTime()}const i=function(e,t,n){!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(document.getElementById("task"));const o=document.querySelectorAll(".menuButton");for(let e=0;e<o.length;e++)o[e].style.color=null,o[e].style.borderColor=null;const l=document.getElementById(t);if(null!=l)switch(l.style.color="red",l.style.borderColor="orange",t){case"allButton":!function(e){for(let t=0;t<e.length;t++)s(e[t],t)}(e);break;case"todayButton":!function(e){for(let t=0;t<e.length;t++)(new Date).getDate()==new Date(e[t].targetDate).getDate()&&s(e[t],t)}(e);break;case"thisWeekButton":!function(e){for(let t=0;t<e.length;t++)r(new Date,new Date(e[t].targetDate))&&s(e[t],t)}(e);break;default:!function(e,t){for(let n=0;n<e.length;n++)e[n].project==t&&s(e[n],n)}(e,n[t.slice(7)])}};function s(e,o){const a=document.getElementById("task");let d=document.createElement("div");d.className="taskButton",d.dataset.task=o,d.id="task"+o,a.appendChild(d);let r=document.createElement("div");r.className="mainContent",r.id="task"+o+"Main",d.appendChild(r);let i=document.createElement("img");i.className="completeIcon",i.id="task"+o+"Complete",i.dataset.task=o,1==e.completed?(i.src="images/checkIcon.svg",i.alt="checkIcon",d.style.borderColor="green"):(i.src="images/uncheckIcon.svg",i.alt="uncheckIcon"),r.appendChild(i);let s=document.createElement("p");s.className="taskProject",s.id="task"+o+"Project",s.innerText=e.project,r.append(s);let u=document.createElement("p");u.className="taskContent",u.id="task"+o+"Content",u.innerHTML=e.task,r.appendChild(u);let m=document.createElement("p");m.className="taskDueDate",m.id="task"+o+"DueDate";let p=function(e,o){n(2,arguments);var a=l(e),d=l(o),r=a.getTime()-t(a),i=d.getTime()-t(d);return Math.round((r-i)/c)}(new Date(e.targetDate),new Date);p>1&&0==e.completed&&(m.innerText=p+"days"),0==p&&0==e.completed&&(m.innerText="Today",d.style.borderColor="#FF8C00"),1==p&&0==e.completed&&(m.innerText="Tomorrow",d.style.borderColor="\t#FFFF66"),p<0&&0==e.completed&&(m.innerText=p+"days",d.style.borderColor="red"),r.appendChild(m);let g=document.createElement("img");g.className="deleteIcon",g.id="task"+o+"Delete",g.dataset.task=o,g.src="images/deleteIcon.svg",g.alt="deleteIcon",r.appendChild(g);let y=document.createElement("div");y.className="subContent",y.id="task"+o+"Sub",d.appendChild(y);let f=document.createElement("div");f.className="targetEdit",y.appendChild(f);let E=document.createElement("p");if(E.id="task"+o+"TargetDate",""!=e.targetDate){let t=e.targetDate;E.innerText="Target Date: "+t[8]+t[9]+"-"+t[5]+t[6]+"-"+t[0]+t[1]+t[2]+t[3]}else E.innerText="Target Date: None";f.appendChild(E);let I=document.createElement("img");I.className="editIcon",I.id="task"+o+"Edit",I.dataset.task=o,I.src="images/editIcon.svg",I.alt="editIcon",f.appendChild(I);let h=document.createElement("p");h.id="task"+o+"Description",h.innerText="Description: "+e.description,y.appendChild(h)}const u=function e(){let t=g();document.querySelectorAll(".taskButton").forEach((e=>{!function(e){const t=document.getElementById("task"+e+"Content"),n=document.getElementById("task"+e+"DueDate"),o=document.getElementById("task"+e+"Sub");function l(){"subContent"==o.className?o.className="subContentShow":o.className="subContent"}t.onclick=l,n.onclick=l}(e.dataset.task)})),function(t){document.querySelectorAll(".deleteIcon").forEach((n=>{n.onclick=function(){t.splice(n.dataset.task,1),y(t),window.localStorage.setItem("myTodo",JSON.stringify(t)),i(t,I(),f()),e()}}))}(t),function(t){document.querySelectorAll(".completeIcon").forEach((n=>{n.onclick=function(){0==t[n.dataset.task].completed?t[n.dataset.task].completed=!0:t[n.dataset.task].completed=!1,y(t),window.localStorage.setItem("myTodo",JSON.stringify(t)),i(t,I(),f()),e()}}))}(t),function(){const t=document.getElementById("editForm");document.querySelectorAll(".editIcon").forEach((n=>{n.onclick=function(){!function(t){let n=g();const o=document.getElementById("editTask");o.value=n[t].task;const l=document.getElementById("editDate");l.value=n[t].targetDate;const c=document.getElementById("editDescription");c.value=n[t].description;const a=document.getElementById("editProject");!function(e){let t=f();const n=document.getElementById("editProject");document.querySelectorAll(".projectEdit").forEach((e=>{e.parentNode.removeChild(e)}));for(let e=0;e<t.length;e++){const o=document.createElement("option");o.value=t[e],o.innerText=t[e],n.appendChild(o)}n.value=e}(n[t].project),document.getElementById("editTaskForm").onsubmit=function(){return n[t].task=o.value,n[t].targetDate=l.value,n[t].description=c.value,n[t].project=a.value,y(n),window.localStorage.setItem("myTodo",JSON.stringify(n)),i(n,I(),f()),e(),document.getElementById("editForm").style.display="none",!1}}(n.dataset.task),t.style.display="flex"}})),window.onclick=function(e){e.target==t&&(t.style.display="none")}}()};function m(e,t,n,o){this.task=e,this.targetDate=t,this.description=n,this.project=o,this.completed=!1}function p(){let e=f();const t=document.getElementById("project");!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(t);for(let n=0;n<e.length;n++){const o=document.createElement("div");o.className="menuButton projectButton",o.id="project"+n,t.appendChild(o);const l=document.createElement("img");l.className="menuIcon",l.src="images/projectIcon.svg",l.alt="projectIcon",o.appendChild(l);const c=document.createElement("p");c.className="menuText",c.innerText=e[n],o.appendChild(c);const a=document.createElement("img");a.className="projectDeleteIcon",a.dataset.project=n,a.src="images/deleteIcon.svg",o.appendChild(a)}h(),document.querySelectorAll(".projectDeleteIcon").forEach((e=>{e.addEventListener("click",(function(){let t=g(),n=f();if(1==confirm("Delete "+n[e.dataset.project]+"?")){for(let o=0;o<t.length;o++)t[o].project==n[e.dataset.project]&&t.splice(o,1);n.splice(e.dataset.project,1),E(n),y(t),window.localStorage.setItem("myTodo",JSON.stringify(t)),window.localStorage.setItem("project",JSON.stringify(n)),p()}}))}))}const g=()=>k,y=e=>k=e,f=()=>w,E=e=>w=e,I=()=>v,h=B;let k=[],v="allButton",w=[];function B(){const e=document.querySelectorAll(".menuButton");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){v=e[t].id,i(k,v,w),u()}))}window.localStorage.getItem("myTodo")&&(k=JSON.parse(window.localStorage.getItem("myTodo"))),window.localStorage.getItem("project")&&(w=JSON.parse(window.localStorage.getItem("project"))),function(){const e=document.getElementById("taskForm");document.getElementById("addTaskButton").addEventListener("click",(function(){!function(){let e=f();const t=document.getElementById("addToProject");document.querySelectorAll(".projectInput").forEach((e=>{e.parentNode.removeChild(e)}));for(let n=0;n<e.length;n++){const o=document.createElement("option");o.value=e[n],o.innerText=e[n],o.className="projectInput",t.appendChild(o)}}(),e.style.display="flex"})),window.addEventListener("click",(function(t){t.target==e&&(e.style.display="none")}))}(),function(){let e=g();document.getElementById("newTaskForm").addEventListener("submit",(function(){!function(e){e.push(function(){const e=new m(document.getElementById("inputTask").value,document.getElementById("inputDate").value,document.getElementById("inputDescription").value,document.getElementById("addToProject").value);return document.getElementById("taskForm").style.display="none",document.getElementById("inputTask").value=null,document.getElementById("inputDate").value=null,document.getElementById("inputDescription").value=null,document.getElementById("addToProject").value=null,e}()),y(e),i(e,I(),f()),u(),window.localStorage.setItem("myTodo",JSON.stringify(e))}(e)}))}(),i(k,v,w),u(),function(){const e=document.getElementById("projectForm");document.getElementById("addProjectButton").addEventListener("click",(function(){e.style.display="flex"})),window.addEventListener("click",(function(t){t.target==e&&(e.style.display="none")}))}(),function(){const e=document.getElementById("projectForm");let t=f();document.getElementById("newProjectForm").addEventListener("submit",(function(){const n=document.getElementById("inputProject").value;let o=!1;for(let e=0;e<t.length;e++)n==t[e]&&(o=!0);o?(alert("That project already exists"),document.getElementById("inputProject").value=null):(t.push(n),E(t),window.localStorage.setItem("project",JSON.stringify(t)),document.getElementById("inputProject").value=null,e.style.display="none",p())}))}(),p(),B(),function(){const e=document.getElementById("tabButton"),t=document.getElementById("menu");e.addEventListener("click",(function(){"none"==t.style.display?t.setAttribute("style","display:flex"):t.setAttribute("style","display:none")}))}()})();