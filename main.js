(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function o(e){n(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function a(e){n(1,arguments);var t=o(e);return t.setHours(0,0,0,0),t}e.d({},{ZP:()=>k,iJ:()=>h,e5:()=>f,dC:()=>g,a0:()=>E,zc:()=>y});var l=864e5;function c(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function d(e,t){n(1,arguments);var a=t||{},l=a.locale,d=l&&l.options&&l.options.weekStartsOn,r=null==d?0:c(d),i=null==a.weekStartsOn?r:c(a.weekStartsOn);if(!(i>=0&&i<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=o(e),u=s.getDay(),m=(u<i?7:0)+u-i;return s.setDate(s.getDate()-m),s.setHours(0,0,0,0),s}function r(e,t,o){n(2,arguments);var a=d(e,o),l=d(t,o);return a.getTime()===l.getTime()}const i=function(e,t,n){!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(document.getElementById("task"));const o=document.querySelectorAll(".menuButton");for(let e=0;e<o.length;e++)o[e].style.color=null,o[e].style.borderColor=null;const a=document.getElementById(t);if(null!=a)switch(a.style.color="red",a.style.borderColor="orange",t){case"allButton":!function(e){for(let t=0;t<e.length;t++)s(e[t],t)}(e);break;case"todayButton":!function(e){for(let t=0;t<e.length;t++)(new Date).getDate()==new Date(e[t].targetDate).getDate()&&s(e[t],t)}(e);break;case"thisWeekButton":!function(e){for(let t=0;t<e.length;t++)r(new Date,new Date(e[t].targetDate))&&s(e[t],t)}(e);break;default:!function(e,t){for(let n=0;n<e.length;n++)e[n].project==t&&s(e[n],n)}(e,n[t.slice(7)])}};function s(e,o){let c=document.createElement("div");c.className="taskButton",c.dataset.task=o,c.id="task"+o,task.appendChild(c);let d=document.createElement("div");d.className="mainContent",d.id="task"+o+"Main",c.appendChild(d);let r=document.createElement("img");r.className="completeIcon",r.id="task"+o+"Complete",r.dataset.task=o,1==e.completed?(r.src="images/checkIcon.svg",r.alt="checkIcon",c.style.borderColor="green"):(r.src="images/uncheckIcon.svg",r.alt="uncheckIcon"),d.appendChild(r);let i=document.createElement("p");i.className="taskProject",i.id="task"+o+"Project",i.innerText=e.project,d.append(i);let s=document.createElement("p");s.className="taskContent",s.id="task"+o+"Content",s.innerHTML=e.task,d.appendChild(s);let u=document.createElement("p");u.className="taskDueDate",u.id="task"+o+"DueDate";let m=function(e,o){n(2,arguments);var c=a(e),d=a(o),r=c.getTime()-t(c),i=d.getTime()-t(d);return Math.round((r-i)/l)}(new Date(e.targetDate),new Date);m>1&&0==e.completed&&(u.innerText=m+"days"),0==m&&0==e.completed&&(u.innerText="Today",c.style.borderColor="#FF8C00"),1==m&&0==e.completed&&(u.innerText="Tomorrow",c.style.borderColor="\t#FFFF66"),m<0&&0==e.completed&&(u.innerText=m+"days",c.style.borderColor="red"),d.appendChild(u);let p=document.createElement("img");p.className="deleteIcon",p.id="task"+o+"Delete",p.dataset.task=o,p.src="images/deleteIcon.svg",p.alt="deleteIcon",d.appendChild(p);let g=document.createElement("div");g.className="subContent",g.id="task"+o+"Sub",c.appendChild(g);let y=document.createElement("div");y.className="targetEdit",g.appendChild(y);let f=document.createElement("p");if(f.id="task"+o+"TargetDate",""!=e.targetDate){let t=e.targetDate;f.innerText="Target Date: "+t[8]+t[9]+"-"+t[5]+t[6]+"-"+t[0]+t[1]+t[2]+t[3]}else f.innerText="Target Date: None";y.appendChild(f);let E=document.createElement("img");E.className="editIcon",E.id="task"+o+"Edit",E.dataset.task=o,E.src="images/editIcon.svg",E.alt="editIcon",y.appendChild(E);let h=document.createElement("p");h.id="task"+o+"Description",h.innerText="Description: "+e.description,g.appendChild(h)}const u=function e(){let t=g();document.querySelectorAll(".taskButton").forEach((e=>{!function(e){const t=document.getElementById("task"+e+"Content"),n=document.getElementById("task"+e+"DueDate"),o=document.getElementById("task"+e+"Sub");function a(){"subContent"==o.className?o.className="subContentShow":o.className="subContent"}t.addEventListener("click",a),n.addEventListener("click",a)}(e.dataset.task)})),function(t){document.querySelectorAll(".deleteIcon").forEach((n=>{n.addEventListener("click",(function(){t.splice(n.dataset.task,1),y(t),window.localStorage.setItem("myTodo",JSON.stringify(t)),i(t,h(),f()),e()}))}))}(t),function(t){document.querySelectorAll(".completeIcon").forEach((n=>{n.addEventListener("click",(function(){0==t[n.dataset.task].completed?t[n.dataset.task].completed=!0:t[n.dataset.task].completed=!1,window.localStorage.setItem("myTodo",JSON.stringify(t)),i(t,h(),f()),y(t),e()}))}))}(t),function(){const t=document.getElementById("editForm");document.querySelectorAll(".editIcon").forEach((n=>{n.addEventListener("click",(function(){!function(t){let n=g();const o=document.getElementById("editTask");o.value=n[t].task;const a=document.getElementById("editDate");a.value=n[t].targetDate;const l=document.getElementById("editDescription");l.value=n[t].description;const c=document.getElementById("editProject");!function(e){let t=f();const n=document.getElementById("editProject");document.querySelectorAll(".projectEdit").forEach((e=>{e.parentNode.removeChild(e)}));for(let e=0;e<t.length;e++){const o=document.createElement("option");o.value=t[e],o.innerText=t[e],o.className="projectEdit",n.appendChild(o)}n.value=e}(n[t].project),document.getElementById("editTaskForm").addEventListener("submit",(function(){n[t].task=o.value,n[t].targetDate=a.value,n[t].description=l.value,n[t].project=c.value,y(n),window.localStorage.setItem("myTodo",JSON.stringify(n)),i(n,h(),f()),document.getElementById("editForm").style.display="none",e()}))}(n.dataset.task),t.style.display="flex"}))})),window.addEventListener("click",(function(e){e.target==t&&(t.style.display="none")}))}()};function m(e,t,n,o){this.task=e,this.targetDate=t,this.description=n,this.project=o,this.completed=!1}function p(){let e=f();const t=document.getElementById("project");!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(t);for(let n=0;n<e.length;n++){const o=document.createElement("div");o.className="menuButton projectButton",o.id="project"+n,t.appendChild(o);const a=document.createElement("img");a.className="menuIcon",a.src="images/projectIcon.svg",a.alt="projectIcon",o.appendChild(a);const l=document.createElement("p");l.className="menuText",l.innerText=e[n],o.appendChild(l);const c=document.createElement("img");c.className="projectDeleteIcon",c.dataset.project=n,c.src="images/deleteIcon.svg",o.appendChild(c)}k(),document.querySelectorAll(".projectDeleteIcon").forEach((e=>{e.addEventListener("click",(function(){let t=g(),n=f();if(1==confirm("Delete "+n[e.dataset.project]+"?")){for(let o=0;o<t.length;o++)t[o].project==n[e.dataset.project]&&t.splice(o,1);n.splice(e.dataset.project,1),E(n),y(t),window.localStorage.setItem("myTodo",JSON.stringify(t)),window.localStorage.setItem("project",JSON.stringify(n)),p()}}))}))}const g=()=>I,y=e=>I=e,f=()=>w,E=e=>w=e,h=()=>v,k=j;let I=[],v="allButton",w=[];function j(){const e=document.querySelectorAll(".menuButton");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){for(let t=0;t<e.length;t++);v=e[t].id,i(I,v,w),u()}))}window.localStorage.getItem("myTodo")&&(I=JSON.parse(window.localStorage.getItem("myTodo"))),window.localStorage.getItem("project")&&(w=JSON.parse(window.localStorage.getItem("project"))),i(I,v,w),function(){const e=document.getElementById("projectForm");document.getElementById("addProjectButton").addEventListener("click",(function(){e.style.display="flex"})),window.addEventListener("click",(function(t){t.target==e&&(e.style.display="none")}))}(),function(){let e=f();document.getElementById("newProjectForm").addEventListener("submit",(function(){const t=document.getElementById("inputProject").value;let n=!1;for(let o=0;o<e.length;o++)t==e[o]&&(n=!0);n?(alert("That project already exists"),document.getElementById("inputProject").value=null):(e.push(t),E(e),window.localStorage.setItem("project",JSON.stringify(e)),document.getElementById("inputProject").value=null,projectForm.style.display="none",p())}))}(),p(),u(),j(),function(){const e=document.getElementById("tabButton"),t=document.getElementById("menu");e.addEventListener("click",(function(){"none"==t.style.display?t.setAttribute("style","display:flex"):t.setAttribute("style","display:none")}))}(),function(){const e=document.getElementById("taskForm");document.getElementById("addTaskButton").addEventListener("click",(function(){!function(){let e=f();const t=document.getElementById("addToProject");document.querySelectorAll(".projectInput").forEach((e=>{e.parentNode.removeChild(e)}));for(let n=0;n<e.length;n++){const o=document.createElement("option");o.value=e[n],o.innerText=e[n],o.className="projectInput",t.appendChild(o)}}(),e.style.display="flex"})),window.addEventListener("click",(function(t){t.target==e&&(e.style.display="none")}))}(),function(){let e=g();document.getElementById("newTaskForm").addEventListener("submit",(function(){!function(e){e.push(function(){const e=new m(document.getElementById("inputTask").value,document.getElementById("inputDate").value,document.getElementById("inputDescription").value,document.getElementById("addToProject").value);return document.getElementById("taskForm").style.display="none",document.getElementById("inputTask").value=null,document.getElementById("inputDate").value=null,document.getElementById("inputDescription").value=null,document.getElementById("addToProject").value=null,e}()),y(e),i(e,h(),f()),u(),window.localStorage.setItem("myTodo",JSON.stringify(e))}(e)}))}(),makeTestTodo()})();